---
// FAQSection.astro - Expandable FAQ accordion section
const faqs = [
    {
        question: "What is MCP?",
        answer: "Model Context Protocol is an open standard that lets AI assistants securely connect to external data and tools. It's like USB-C for AI applications—a universal interface that lets your AI assistant interact with databases, APIs, file systems, and more."
    },
    {
        question: "How do you verify servers?",
        answer: "We evaluate GitHub activity, star count (real adoption), and maintenance status. If it has active development and community usage, it qualifies. We also check for proper documentation, security practices, and working examples."
    },
    {
        question: "Why 600 servers instead of 17,000?",
        answer: "Quality over quantity. We skip abandoned projects and low-effort forks so you can find what actually works. Every server in our directory has been verified for active maintenance, community adoption, and proper documentation."
    },
    {
        question: "Can I use Claude Skills with MCP Servers?",
        answer: "Yes! Skills enhance Claude's capabilities, while MCP servers give Claude access to external tools and data. They work together seamlessly—skills can leverage MCP servers to perform complex tasks."
    },
    {
        question: "How do I choose between 250+ MCP clients?",
        answer: "Check our 'MCP Client Selection Guide' blog post, or browse by use case (coding, automation, general chat, etc.). Consider factors like your IDE, operating system, and whether you need local or remote access."
    }
];
---

<section class="faq-section">
    <div class="faq-container">
        <h2 class="faq-heading">Frequently Asked Questions</h2>
        
        <div class="faq-grid">
            {faqs.map((faq, index) => (
                <div class="faq-item" data-faq-index={index}>
                    <button class="faq-question" aria-expanded="false">
                        <span class="question-text">{faq.question}</span>
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        <p>{faq.answer}</p>
                    </div>
                </div>
            ))}
        </div>
        
        <div class="faq-cta-wrapper">
            <a href="/faq" class="faq-view-all">View Full FAQ →</a>
        </div>
    </div>
</section>

<style>
    .faq-section {
        background: #f3f4f6;
        padding: 4rem 1rem;
    }
    
    .faq-container {
        max-width: 900px;
        margin: 0 auto;
    }
    
    .faq-heading {
        font-size: 2rem;
        font-weight: 700;
        color: #1f2937;
        text-align: center;
        margin-bottom: 2.5rem;
    }
    
    .faq-grid {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }
    
    .faq-item {
        background: #ffffff;
        border-radius: 12px;
        overflow: hidden;
        border: 1px solid #e5e7eb;
    }
    
    .faq-question {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1.25rem 1.5rem;
        background: transparent;
        border: none;
        cursor: pointer;
        text-align: left;
        transition: background 0.3s ease;
    }
    
    .faq-question:hover {
        background: #f9fafb;
    }
    
    .question-text {
        font-size: 1.05rem;
        font-weight: 600;
        color: #1f2937;
        padding-right: 1rem;
    }
    
    .faq-icon {
        font-size: 1.5rem;
        color: #f59e0b;
        font-weight: 300;
        transition: transform 0.3s ease;
        flex-shrink: 0;
    }
    
    .faq-item.open .faq-icon {
        transform: rotate(45deg);
    }
    
    .faq-answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease, padding 0.3s ease;
    }
    
    .faq-item.open .faq-answer {
        max-height: 500px;
    }
    
    .faq-answer p {
        padding: 0 1.5rem 1.25rem;
        font-size: 1rem;
        color: #6b7280;
        line-height: 1.7;
    }
    
    .faq-cta-wrapper {
        text-align: center;
        margin-top: 2rem;
    }
    
    .faq-view-all {
        display: inline-block;
        background: #f59e0b;
        color: white;
        padding: 0.75rem 2rem;
        border-radius: 8px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
    }
    
    .faq-view-all:hover {
        background: #d97706;
        transform: translateY(-2px);
    }
    
    @media (max-width: 768px) {
        .faq-heading {
            font-size: 1.75rem;
        }
        
        .question-text {
            font-size: 0.95rem;
        }
        
        .faq-answer p {
            font-size: 0.95rem;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const faqItems = document.querySelectorAll('.faq-item');
        
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            
            question?.addEventListener('click', () => {
                const isOpen = item.classList.contains('open');
                
                // Close all other items
                faqItems.forEach(otherItem => {
                    otherItem.classList.remove('open');
                    otherItem.querySelector('.faq-question')?.setAttribute('aria-expanded', 'false');
                });
                
                // Toggle current item
                if (!isOpen) {
                    item.classList.add('open');
                    question.setAttribute('aria-expanded', 'true');
                }
            });
        });
    });
</script>
