---
// FAQSection.astro - Expandable FAQ accordion section with most important questions
const faqs = [
    {
        question: "How do you verify servers?",
        answer: `We evaluate GitHub activity, star count (real adoption), and maintenance status. If it has active development and community usage, it qualifies. We also check for proper documentation, security practices, and working examples. See our full verification process in the <a href='/blog/understanding-mcp-quality-standards' class='faq-link'>Quality Standards guide</a>.`
    },
    {
        question: "Why 600 servers instead of 17,000?",
        answer: "Quality over quantity. We skip abandoned projects and low-effort forks so you can find what actually works. Every server in our directory has been verified for active maintenance, community adoption, and proper documentation. Other directories include everything ever created—we curate only what's worth using and maintainable."
    },
    {
        question: "What's the difference between Servers, Clients, and Skills?",
        answer: "MCP Servers (600+): Tools/data sources that expose functionality through MCP. MCP Clients (250+): Applications that connect TO servers. Claude Skills (68): Pre-built capabilities that enhance Claude. Servers provide tools, clients access them, and skills enhance Claude's ability to use them effectively."
    },
    {
        question: "How do I choose an MCP client?",
        answer: `Check our <a href='/blog/mcp-client-complete-guide' class='faq-link'>MCP Client Selection Guide</a> for detailed recommendations. Key options: Claude Desktop (official, easy), Cursor (for coding), Cline (open source, terminal), Continue (IDE integrated). Consider your use case, OS, and whether you need multiple server connections.`
    },
    {
        question: "Can I submit my server?",
        answer: `Yes! Click <a href='#' onclick='alert(\"Submit feature coming soon! Email server details to: chester@mymcpshelf.com\"); return false;' class='faq-link'>\"Submit Your Server\"</a> or email us your repository. Requirements: 10+ GitHub stars, active maintenance, proper docs, and working examples. We review submissions weekly.`
    }
];
---

<section class="faq-section">
    <div class="faq-container">
        <h2 class="faq-heading">Frequently Asked Questions</h2>
        <p class="faq-subheading">Quick answers to common questions about My MCP Shelf</p>
        
        <div class="faq-grid">
            {faqs.map((faq, index) => (
                <div class="faq-item" data-faq-index={index}>
                    <button class="faq-question" aria-expanded="false">
                        <span class="question-text">{faq.question}</span>
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        <p set:html={faq.answer} />
                    </div>
                </div>
            ))}
        </div>
        
        <div class="faq-cta-wrapper">
            <p class="faq-more-text">Have more questions? Check our complete FAQ with 26+ Q&A</p>
            <a href="/faq" class="faq-view-all">View Full FAQ →</a>
        </div>
    </div>
</section>

<style>
    .faq-section {
        background: hsl(var(--muted));
        padding: 4rem 1rem;
    }
    
    .faq-container {
        max-width: 900px;
        margin: 0 auto;
    }
    
    .faq-heading {
        font-size: 2rem;
        font-weight: 700;
        color: hsl(var(--foreground));
        text-align: center;
        margin-bottom: 0.5rem;
    }
    
    .faq-subheading {
        font-size: 1.1rem;
        color: hsl(var(--muted-foreground));
        text-align: center;
        margin-bottom: 2.5rem;
    }
    
    .faq-grid {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }
    
    .faq-item {
        background: hsl(var(--card));
        border-radius: 12px;
        overflow: hidden;
        border: 1px solid hsl(var(--border));
        transition: all 0.3s ease;
    }
    
    .faq-item:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .faq-question {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1.25rem 1.5rem;
        background: transparent;
        border: none;
        cursor: pointer;
        text-align: left;
        transition: background 0.3s ease;
        font-family: inherit;
    }
    
    .faq-question:hover {
        background: hsl(var(--muted));
    }
    
    .question-text {
        font-size: 1.05rem;
        font-weight: 600;
        color: hsl(var(--card-foreground));
        padding-right: 1rem;
        line-height: 1.5;
    }
    
    .faq-icon {
        font-size: 1.5rem;
        color: hsl(var(--primary));
        font-weight: 300;
        transition: transform 0.3s ease;
        flex-shrink: 0;
    }
    
    .faq-item.open .faq-icon {
        transform: rotate(45deg);
    }
    
    .faq-answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease, padding 0.3s ease;
    }
    
    .faq-item.open .faq-answer {
        max-height: 500px;
    }
    
    .faq-answer p {
        padding: 0 1.5rem 1.25rem;
        font-size: 1rem;
        color: hsl(var(--muted-foreground));
        line-height: 1.7;
    }

    .faq-link {
        color: hsl(var(--primary));
        text-decoration: underline;
    }
    
    .faq-cta-wrapper {
        text-align: center;
        margin-top: 2.5rem;
    }
    
    .faq-more-text {
        font-size: 1rem;
        color: hsl(var(--muted-foreground));
        margin-bottom: 1rem;
    }
    
    .faq-view-all {
        display: inline-block;
        background: hsl(var(--primary));
        color: white;
        padding: 0.75rem 2rem;
        border-radius: 8px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        font-size: 1.05rem;
    }
    
    .faq-view-all:hover {
        background: hsl(var(--primary) / 90%);
        transform: translateY(-2px);
    }
    
    html.dark-mode .faq-section {
        background: hsl(var(--card));
    }
    
    html.dark-mode .faq-heading {
        color: hsl(var(--card-foreground));
    }
    
    html.dark-mode .faq-subheading {
        color: hsl(var(--muted-foreground));
    }
    
    html.dark-mode .faq-item {
        background: hsl(var(--card));
        border-color: hsl(var(--border));
    }
    
    html.dark-mode .faq-question:hover {
        background: hsl(var(--muted));
    }
    
    html.dark-mode .question-text {
        color: hsl(var(--card-foreground));
    }
    
    html.dark-mode .faq-answer p {
        color: hsl(var(--muted-foreground));
    }
    
    html.dark-mode .faq-more-text {
        color: hsl(var(--muted-foreground));
    }
    
    @media (max-width: 768px) {
        .faq-heading {
            font-size: 1.75rem;
        }
        
        .faq-subheading {
            font-size: 1rem;
        }
        
        .question-text {
            font-size: 0.95rem;
        }
        
        .faq-answer p {
            font-size: 0.95rem;
            padding: 0 1.25rem 1.25rem;
        }
        
        .faq-view-all {
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const faqItems = document.querySelectorAll('.faq-item');
        
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            
            question?.addEventListener('click', () => {
                const isOpen = item.classList.contains('open');
                
                // Close all other items
                faqItems.forEach(otherItem => {
                    otherItem.classList.remove('open');
                    otherItem.querySelector('.faq-question')?.setAttribute('aria-expanded', 'false');
                });
                
                // Toggle current item
                if (!isOpen) {
                    item.classList.add('open');
                    question.setAttribute('aria-expanded', 'true');
                }
            });
        });
        
        // Track FAQ interactions
        if (typeof plausible !== 'undefined') {
            document.querySelectorAll('.faq-question').forEach((question, index) => {
                question.addEventListener('click', () => {
                    plausible('FAQ Expand', { props: { question_index: index } });
                });
            });
        }
    });
</script>